<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.image.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.shape.*?>
<?import javafx.scene.text.*?>

<BorderPane xmlns="http://javafx.com/javafx/18"
            xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="controllers.BackOffice.HomeBack"
            prefWidth="1200" prefHeight="800"
            stylesheets="/BackOffice/homeback.css">

    <!-- Top Navigation Bar - Modern Glassmorphism Effect -->
    <top>
        <HBox styleClass="header" spacing="20" alignment="CENTER_LEFT">
            <!-- Logo -->
            <ImageView fitHeight="60" fitWidth="220" preserveRatio="true" styleClass="logo">
                <image>
                    <Image url="/images/logoapp.png"/>
                </image>
            </ImageView>

            <!-- User Info with Modern Badge -->
            <HBox alignment="CENTER_LEFT" spacing="10" styleClass="user-info">
                <StackPane>
                    <ImageView fx:id="adminAvatar" fitHeight="48" fitWidth="48" styleClass="avatar">
                        <clip>
                            <Circle centerX="24" centerY="24" radius="24"/>
                        </clip>
                    </ImageView>
                    <Circle radius="6" fill="#4CAF50" stroke="#FFFFFF" strokeWidth="1.5"
                            layoutX="36" layoutY="36"/>
                </StackPane>
                <VBox spacing="2">
                    <Label fx:id="adminNameLabel" styleClass="user-name"/>
                    <Label fx:id="adminRoleLabel" styleClass="user-role"/>
                </VBox>
            </HBox>

            <Region HBox.hgrow="ALWAYS"/>

            <!-- Navigation Buttons with Hover Effects -->
            <HBox spacing="15" alignment="CENTER">
                <Button fx:id="dashboardBtn" text="Dashboard" styleClass="nav-btn"/>
                <Button fx:id="usersBtn" text="User Management" styleClass="nav-btn"/>
                <Button fx:id="productsBtn" text="Products" styleClass="nav-btn"/>
                <Button fx:id="ordersBtn" text="Orders" styleClass="nav-btn"/>
                <Button fx:id="reportsBtn" text="Reports" styleClass="nav-btn"/>
            </HBox>

            <Region HBox.hgrow="ALWAYS"/>

            <!-- Logout Button with Icon -->
            <Button fx:id="logoutBtn" styleClass="logout-btn">

            </Button>
        </HBox>
    </top>

    <!-- Left Sidebar - Modern Collapsible Style -->
    <left>
        <VBox styleClass="sidebar" spacing="10" prefWidth="220">
            <Label text="MAIN MENU" styleClass="menu-title"/>

            <Button fx:id="statisticsBtn" text="Statistics" styleClass="side-btn">
                <graphic>
                    <ImageView fitHeight="22" fitWidth="22">
                        <Image url="@/images/icons/stats.png"/>
                    </ImageView>
                </graphic>
            </Button>

            <Button fx:id="farmersBtn" text="Farmers" styleClass="side-btn">
                <graphic>
                    <ImageView fitHeight="22" fitWidth="22">
                        <Image url="@/images/icons/farm.png"/>
                    </ImageView>
                </graphic>
            </Button>

            <Button fx:id="parcelsBtn" text="Parcels" styleClass="side-btn">
                <graphic>
                    <ImageView fitHeight="22" fitWidth="22">
                        <Image url="@/images/icons/parcel.png"/>
                    </ImageView>
                </graphic>
            </Button>

            <Button fx:id="harvestBtn" text="Harvest" styleClass="side-btn">
                <graphic>
                    <ImageView fitHeight="22" fitWidth="22">
                        <Image url="@/images/icons/harvest.png"/>
                    </ImageView>
                </graphic>
            </Button>

            <Separator styleClass="menu-separator"/>

            <Label text="SYSTEM" styleClass="menu-title"/>

            <Button fx:id="settingsBtn" text="Settings" styleClass="side-btn">
                <graphic>
                    <ImageView fitHeight="22" fitWidth="22">
                        <Image url="@/images/icons/settings.png"/>
                    </ImageView>
                </graphic>
            </Button>

            <Button fx:id="logsBtn" text="System Logs" styleClass="side-btn">
                <graphic>
                    <ImageView fitHeight="22" fitWidth="22">
                        <Image url="@/images/icons/logs.png"/>
                    </ImageView>
                </graphic>
            </Button>

            <!-- Bottom Spacer to push content up -->
            <Region VBox.vgrow="ALWAYS"/>

            <!-- Sidebar Footer -->
            <VBox styleClass="sidebar-footer" spacing="5">
                <Label text="v2.4.1" styleClass="version-label"/>
                <Label text="Â© 2023 AgriSoft" styleClass="copyright-label"/>
            </VBox>
        </VBox>
    </left>

    <!-- Main Content Area - Modern Card Layout -->
    <center>
        <StackPane fx:id="contentPane" styleClass="content-pane">
            <!-- Default Welcome Content -->
            <VBox alignment="CENTER" spacing="40" styleClass="welcome-container">
                <StackPane>
                    <ImageView fitHeight="180" fitWidth="180" styleClass="welcome-logo">
                        <Image url="@/images/logoapp.png"/>
                    </ImageView>
                    <Circle radius="90" fill="radial-gradient(focus-angle 45deg, focus-distance 20%, center 50% 50%, radius 60%, #E8F5E966, #81C78400)"/>
                </StackPane>

                <VBox alignment="CENTER" spacing="10">
                    <Label text="AGRICULTURE DASHBOARD" styleClass="welcome-title"/>
                    <Label text="Comprehensive Farm Management System" styleClass="welcome-subtitle"/>
                </VBox>

                <!-- Modern Stats Cards with Icons -->
                <HBox alignment="CENTER" spacing="30">
                    <!-- Card 1 -->
                    <VBox styleClass="card card-1" spacing="15" prefWidth="240">
                        <HBox alignment="CENTER_LEFT" spacing="15">
                            <StackPane styleClass="card-icon-container">
                                <Circle radius="22" fill="#E3F2FD"/>
                                <ImageView fitHeight="24" fitWidth="24">
                                    <Image url="@/images/icons/farm.png"/>
                                </ImageView>
                            </StackPane>
                            <VBox spacing="2">
                                <Label text="Active Farms" styleClass="card-title"/>
                                <Label text="24" styleClass="card-value"/>
                                <Label text="+3 this month" styleClass="card-growth positive"/>
                            </VBox>
                        </HBox>
                        <ProgressBar progress="0.7" styleClass="card-progress"/>
                    </VBox>

                    <!-- Card 2 -->
                    <VBox styleClass="card card-2" spacing="15" prefWidth="240">
                        <HBox alignment="CENTER_LEFT" spacing="15">
                            <StackPane styleClass="card-icon-container">
                                <Circle radius="22" fill="#E8F5E9"/>
                                <ImageView fitHeight="24" fitWidth="24">
                                    <Image url="@/images/icons/wheat.png"/>
                                </ImageView>
                            </StackPane>
                            <VBox spacing="2">
                                <Label text="Harvest Yield" styleClass="card-title"/>
                                <Label text="1,240 kg" styleClass="card-value"/>
                                <Label text="12% increase" styleClass="card-growth positive"/>
                            </VBox>
                        </HBox>
                        <ProgressBar progress="0.5" styleClass="card-progress"/>
                    </VBox>

                    <!-- Card 3 -->
                    <VBox styleClass="card card-3" spacing="15" prefWidth="240">
                        <HBox alignment="CENTER_LEFT" spacing="15">
                            <StackPane styleClass="card-icon-container">
                                <Circle radius="22" fill="#FFF3E0"/>
                                <ImageView fitHeight="24" fitWidth="24">
                                    <Image url="@/images/icons/orders.png"/>
                                </ImageView>
                            </StackPane>
                            <VBox spacing="2">
                                <Label text="Pending Orders" styleClass="card-title"/>
                                <Label text="18" styleClass="card-value"/>
                                <Label text="3 new today" styleClass="card-growth neutral"/>
                            </VBox>
                        </HBox>
                        <ProgressBar progress="0.3" styleClass="card-progress"/>
                    </VBox>
                </HBox>
            </VBox>
        </StackPane>
    </center>

    <!-- Status Bar - Modern Minimalist -->
    <bottom>
        <HBox styleClass="status-bar" alignment="CENTER" spacing="15">
            <HBox alignment="CENTER" spacing="5">
                <Label text="System Status:" styleClass="status-label"/>
                <Label fx:id="systemStatusLabel" text="Operational" styleClass="status-active"/>
                <StackPane>
                    <Circle radius="4" fill="#4CAF50"/>
                </StackPane>
            </HBox>

            <Region HBox.hgrow="ALWAYS"/>

            <HBox alignment="CENTER" spacing="5">
                <!--<ImageView fitHeight="14" fitWidth="14">
                    <Image url="@/images/icons/update.png"/>
                </ImageView>-->
                <Label fx:id="lastUpdateLabel" styleClass="status-label"/>
            </HBox>

            <Region HBox.hgrow="ALWAYS"/>

            <HBox alignment="CENTER" spacing="5">
                <!--<ImageView fitHeight="14" fitWidth="14">
                    <Image url="@/images/icons/database.png"/>
                </ImageView>-->
                <Label text="DB: Online" styleClass="status-label"/>
            </HBox>
        </HBox>
    </bottom>
</BorderPane>